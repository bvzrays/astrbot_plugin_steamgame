# AstrBot Steam Game Plugin

一个用于 AstrBot 的 Steam 玩家数据可视化插件，生成精美图，支持群排行、好友对比、成就卡片等功能。

> ✅ **建议在这里插入“功能总览”截图（1200px 宽）**

---

## ✨ 功能截图

> 每个小节请插入对应截图（示例路径：`docs/*.jpg`）

### 1. 个人资料 & 最近动态（`/steam动态`）
- 展示头像、在线状态、最近游玩
- **截图位置**：此段落下方，命名 `docs/profile.jpg`

### 2. Mosaic 游戏墙（`/steam游戏库`）
- 依据游玩时长自动排布封面墙
- **截图位置**：此段落下方，命名 `docs/mosaic.jpg`

### 3. 成就卡片（`/steam成就 <游戏名>`）
- 进度环 + 最近解锁成就
- **截图位置**：此段落下方，命名 `docs/achievements.jpg`

### 4. 好友对比（`/steam对比 @用户`）
- 多维 PK 卡片（游戏数 / 总时长 / 成就），共同游戏墙
- **截图位置**：此段落下方，命名 `docs/compare.jpg`

### 5. 群内排行（`/steam排行 [游戏数/时长/关键词]`）
- 群友拥有/游玩数据排行榜
- **截图位置**：此段落下方，命名 `docs/rank.jpg`

---

## 🚀 安装

1. 将本插件放入 `AstrBot/data/plugins/`。
2. 在 AstrBot 管理面板启用插件。
3. 在配置页填写 `steam_api_key`（必填）和 `proxy`（选填）。

## 📖 指令列表

| 指令 | 说明 | 示例 |
| :--- | :--- | :--- |
| `/绑定steam <ID>` | 绑定 Steam ID (17 位) | `/绑定steam 76561198000000000` |
| `/steam动态` | 查看头像、状态、最近活动 | `/steam动态 @某人` |
| `/steam游戏库` | 生成 Mosaic 游戏墙 | `/steam游戏库` |
| `/steam排行 [游戏数/时长/关键词]` | 群排行或关键词排行 | `/steam排行 游戏数` |
| `/steam成就 <游戏名>` | 成就进度卡片（模糊匹配） | `/steam成就 黑神话` |
| `/steam对比 @用户` | 两人共同游戏 + 多维对比 | `/steam对比 @Tom` |

## ⚙️ 配置

```json
{
  "steam_api_key": "YOUR_API_KEY",
  "proxy": "http://127.0.0.1:7890",
  "image_quality": 95
}
```

## TODO

- [ ] 愿望单监控：读取绑定账号的 Steam Wishlist，支持价格/折扣提醒，可通过配置开关启用
- [ ] 成就展示升级：补足未解锁成就视图与稀有度标记，让 0% 进度也有信息量
- [ ] 游戏推荐：根据群友拥有与时长数据，生成个性化/群推荐列表
- [ ] 游玩时长数据验证：排查/修复部分账号统计异常的问题

## 🛠️ 目录结构

- `main.py`：插件入口 & 指令逻辑  
- `steam_api.py`：Steam API 包装与缓存 + 封面缓存  
- `templates/`：HTML 模板（Mosaic、成就、对比、排行）

## 📝 License

MIT
